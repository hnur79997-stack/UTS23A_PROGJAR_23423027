import socket

HOST = '127.0.0.1'
PORT = 5050

client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# Timeout sambungan 3 detik
client.settimeout(3)

print("Menghubungkan ke server...")

try:
    client.connect((HOST, PORT))
except socket.timeout:
    print("Koneksi timeout! (saat connect)")
    exit()

print("Terhubung! Mengirim pesan...")

client.sendall(b"Hallo server")

# Timeout membaca data: 2 detik
client.settimeout(2)

try:
    data = client.recv(1024)
    print("Balasan:", data.decode())
except socket.timeout:
    print("Koneksi timeout! (saat membaca data)")

client.close()
